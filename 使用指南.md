# 智能文件分类器 - 使用指南

## 📋 目录
- [快速开始](#快速开始)
- [功能介绍](#功能介绍)
- [详细使用说明](#详细使用说明)
- [高级功能](#高级功能)
- [常见问题](#常见问题)
- [技巧和建议](#技巧和建议)

## 🚀 快速开始

### 系统要求
- **操作系统**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **Python**: 3.7或更高版本
- **内存**: 至少512MB可用内存
- **磁盘空间**: 至少100MB可用空间

### 安装步骤

#### Windows用户
1. 双击运行 `install.bat`
2. 等待依赖安装完成
3. 双击 `start.bat` 启动应用

#### Linux/Mac用户
```bash
# 给脚本添加执行权限
chmod +x install.sh start.sh

# 运行安装脚本
./install.sh

# 启动应用
./start.sh
```

#### 手动安装
```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
python main.py
```

## 🌟 功能介绍

### 核心功能
- ✅ **智能分类**: 按文件类型、日期、大小自动分类
- ✅ **实时监控**: 自动处理新增文件
- ✅ **预览功能**: 操作前预览结果
- ✅ **撤销操作**: 一键撤销错误操作
- ✅ **自定义规则**: 灵活的文件分类规则
- ✅ **批量处理**: 高效处理大量文件

### 分类规则

#### 按文件类型分类
| 类型 | 支持格式 | 目标文件夹 |
|------|----------|------------|
| 图片 | jpg, png, gif, bmp, svg等 | images |
| 文档 | pdf, doc, txt, md等 | documents |
| 音频 | mp3, wav, flac, aac等 | audio |
| 视频 | mp4, avi, mkv, mov等 | videos |
| 代码 | py, js, html, css等 | code |
| 压缩包 | zip, rar, 7z等 | archives |

#### 按修改日期分类
- 格式: `YYYY-MM` (如: 2024-01)
- 按文件最后修改时间分类

#### 按文件大小分类
- 小文件: < 1MB
- 中文件: 1-10MB
- 大文件: 10-100MB
- 超大文件: > 100MB

## 📖 详细使用说明

### 基本操作流程

#### 1. 设置路径
- **源文件夹**: 需要分类的文件所在位置
- **目标文件夹**: 分类后文件的存放位置
- 💡 支持路 径历史记录，方便重复使用

#### 2. 选择分类规则
- 勾选需要的分类方式
- 可以组合多种规则（如：类型+日期）
- 至少选择一种分类规则

#### 3. 选择操作类型
- **移动文件**: 将文件移动到目标位置（推荐）
- **复制文件**: 复制文件到目标位置
- **创建链接**: 创建文件的硬链接

#### 4. 执行操作
- **预览分类**: 查看分类结果，不实际移动文件
- **开始分类**: 执行实际的文件分类操作
- **开始监控**: 自动监控文件夹变化

### 界面元素说明

#### 主界面布局
```
┌─────────────────────────────────────┐
│ 智能文件分类器            ● 监控状态  │
├─────────────────────────────────────┤
│ 路径设置                            │
│ └─ 源文件夹: [路径选择] [浏览]       │
│ └─ 目标文件夹: [路径选择] [浏览]     │
├─────────────────────────────────────┤
│ 分类规则                            │
│ ☑类型 ☐日期 ☐大小 ☐自定义         │
├─────────────────────────────────────┤
│ 操作选项                            │
│ ●移动 ○复制 ○链接  ☑预览 ☑确认    │
├─────────────────────────────────────┤
│ [开始分类] [预览分类] [开始监控]    │
│ [高级设置] [撤销操作] [清空结果]    │
├─────────────────────────────────────┤
│ 分类结果 (表格显示)                 │
│ ├─ 文件名 | 原位置 | 目标位置 | 状态│
│ └─ 统计信息 [进度条]                │
├─────────────────────────────────────┤
│ 状态栏: 就绪            监控统计     │
└─────────────────────────────────────┘
```

#### 结果表格说明
- **绿色**: 操作成功
- **红色**: 操作失败
- **蓝色**: 预览模式
- **右键菜单**: 提供快捷操作

## ⚙️ 高级功能

### 自定义分类规则

#### 创建自定义规则
1. 点击 `高级设置` → `自定义规则`
2. 点击 `添加规则`
3. 填写规则信息：
   - **规则名称**: 便于识别的名称
   - **文件名模式**: 支持通配符
   - **目标文件夹**: 分类目标位置
   - **描述**: 规则说明（可选）

#### 通配符语法
| 通配符 | 说明 | 示例 |
|--------|------|------|
| `*` | 匹配任意字符 | `*.jpg` 匹配所有jpg文件 |
| `?` | 匹配单个字符 | `???.txt` 匹配三字符txt文件 |
| `[abc]` | 匹配字符集 | `[abc]*.pdf` 匹配a/b/c开头的pdf |

#### 规则示例
```
报告*.pdf → 工作文档/报告
*_backup.* → 备份文件
IMG_*.jpg → 相机照片
```

### 高级设置选项

#### 重复文件处理
- **重命名**: 自动添加数字后缀（推荐）
- **跳过**: 忽略重复文件
- **覆盖**: 替换现有文件（危险）

#### 监控设置
- **监控子文件夹**: 递归监控所有子目录
- **监控延迟**: 文件稳定后的处理延迟时间
- **自动启动监控**: 程序启动时自动开始监控

#### 排除设置
- **排除模式**: 设置要忽略的文件模式
- **文件大小限制**: 设置处理的文件大小范围

### 配置管理
- **导出配置**: 保存当前设置到文件
- **导入配置**: 从文件加载设置
- **重置设置**: 恢复默认配置

## ❓ 常见问题

### Q: 程序启动失败怎么办？
**A**: 检查以下几点：
1. Python版本是否为3.7+
2. 是否安装了所有依赖包
3. 运行 `python run.py` 查看详细错误信息

### Q: 监控功能不工作怎么办？
**A**: 可能的原因：
1. 源文件夹路径不正确
2. 没有选择分类规则
3. 文件夹权限不足
4. 防病毒软件拦截

### Q: 撤销操作不成功怎么办？
**A**: 撤销功能限制：
1. 只能撤销最近的操作
2. 复制操作撤销会删除目标文件
3. 文件被其他程序占用时无法撤销

### Q: 如何处理大量文件？
**A**: 优化建议：
1. 分批处理，避免一次处理过多文件
2. 使用预览功能先确认结果
3. 关闭不必要的程序释放内存
4. 在高级设置中调整性能参数

### Q: 自定义规则不生效怎么办？
**A**: 检查要点：
1. 确保规则已启用
2. 检查通配符语法是否正确
3. 规则优先级：自定义规则优先于默认规则
4. 确保勾选了"使用自定义规则"

## 💡 技巧和建议

### 最佳实践

#### 安全使用建议
1. **备份重要文件**: 操作前建议备份重要数据
2. **先用预览**: 大批量操作前先使用预览功能
3. **小批量测试**: 首次使用时先用少量文件测试
4. **定期备份配置**: 导出并保存配置文件

#### 效率提升技巧
1. **快捷键使用**:
   - `Ctrl+Z`: 撤销操作（如果支持）
   - `F5`: 刷新结果
   - `Ctrl+A`: 全选结果

2. **路径管理**:
   - 使用路径历史记录快速选择
   - 设置常用路径的快捷方式

3. **规则优化**:
   - 合理组合多种分类规则
   - 创建针对特定项目的自定义规则

#### 监控模式使用
1. **适用场景**:
   - 下载文件夹自动整理
   - 工作文件实时分类
   - 批量文件处理

2. **注意事项**:
   - 避免监控系统关键文件夹
   - 设置合适的延迟时间
   - 定期检查监控状态

### 故障排除

#### 性能问题
- 调整最大工作线程数
- 减少同时处理的文件数量
- 关闭不必要的后台程序

#### 权限问题
- 以管理员身份运行（Windows）
- 检查文件夹读写权限
- 确保目标路径可写

#### 兼容性问题
- 更新到最新版本
- 检查Python和依赖包版本
- 查看系统兼容性

---

### 标志文件功能

标志文件功能允许您通过在文件夹中放置特殊的标志文件来控制文件分类器的行为。当文件夹中存在标志文件时，该文件夹及其所有子文件夹都会被跳过，不进行分类处理。

#### 使用场景
- **软件安装目录**: 保持程序文件和依赖库的完整结构。
- **项目文件夹**: 避免破坏代码项目的目录结构。
- **游戏目录**: 保持游戏文件和存档的组织方式。

#### 如何使用
1.  **创建标志文件**: 在需要保护的文件夹中创建一个名为 `.noclassify` 的空文件。
2.  **启用功能**: 在“设置”→“高级设置”中，确保“启用标志文件功能”已勾选。您也可以在此处自定义标志文件名。
3.  **运行分类**: 正常运行分类，包含标志文件的文件夹会被自动跳过。

## 📞 技术支持

如果遇到问题或有改进建议，请在GitHub上提交Issue。

---

*智能文件分类器 v1.0 - 让文件管理更简单高效！* 